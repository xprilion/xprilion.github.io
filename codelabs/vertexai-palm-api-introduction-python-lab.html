<!DOCTYPE html><html lang="en" class="__variable_6ab973"><head><meta charSet="utf-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/22966f4f11fece13-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/3df4cf0b22f61940-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/a481f011d1f4a14b-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/feff4f1fc62fae3c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/5d465971106e06ba.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/2dba37557e579c7e.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f3b8208e8dab82f4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-51e91e9f6e824314.js"/><script src="/_next/static/chunks/a82cbd8b-b3a1b1aa1798277d.js" async=""></script><script src="/_next/static/chunks/261-9869fd9e23c1aca9.js" async=""></script><script src="/_next/static/chunks/main-app-23cc923f66c03781.js" async=""></script><script src="/_next/static/chunks/app/layout-03b28790fff4d2e4.js" async=""></script><script src="/_next/static/chunks/943-eb5c9570e2ea5452.js" async=""></script><script src="/_next/static/chunks/981-982ff48b33ef9837.js" async=""></script><script src="/_next/static/chunks/585-ef9a120e1d77e4af.js" async=""></script><script src="/_next/static/chunks/app/codelabs/%5Bslug%5D/page-696caa01994dec0e.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-NKJL65V2YL" as="script"/><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js" as="script"/><meta name="next-size-adjust" content=""/><link rel="icon" type="image/png" href="/apple-icon.png" sizes="96x96"/><link rel="icon" type="image/svg+xml" href="/icon0.svg"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta name="apple-mobile-web-app-title" content="xprilion&#x27;s blog"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#7b46f6"/><meta property="og:title" content="xprilion&#x27;s blog"/><meta property="og:description" content="Hey, I&#x27;m Anubhav Singh. I love building software, mixing stacks and making memes."/><meta property="og:image" content="/favicon.png"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@xprilion"/><meta name="twitter:creator" content="@xprilion"/><meta name="twitter:title" content="xprilion&#x27;s blog"/><meta name="twitter:description" content="Hey, I&#x27;m Anubhav Singh. I love building software, mixing stacks and making memes."/><meta name="twitter:image" content="/favicon.png"/><meta itemProp="name" content="xprilion&#x27;s blog"/><meta itemProp="description" content="Hey, I&#x27;m Anubhav Singh. I love building software, mixing stacks and making memes."/><meta itemProp="image" content="/favicon.png"/><title>Introduction to Building Solutions with PaLM2 API via VertexAI on GCP | xprilion&#x27;s blog</title><meta name="description" content="A starter guide to building innovative solutions with PaLM2 API via Vertex AI on GCP."/><link rel="icon" href="/logo.jpg"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="antialiased"><script>((e,t,r,n,o,a,i,u)=>{let l=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(l.classList.remove(...n),l.classList.add(a&&a[t]?a[t]:t)):l.setAttribute(e,t)}),r=t,u&&s.includes(r)&&(l.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="flex flex-col min-h-screen px-2 md:px-4 bg-background text-foreground"><nav class="flex flex-row justify-between items-center py-4 border-b border-border relative"><div class="flex flex-row items-center pr-4"><a href="/"><button type="button" class="cursor-pointer flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 text-3xl rounded-full mr-2 md:mr-4 dark:invert dark:border-background" style="background-image:url(/close.png);background-size:120%;background-position:50%;background-repeat:no-repeat" aria-label="Close and return home"></button></a><h1 class="text-lg sm:text-xl md:text-2xl m-0 text-foreground font-normal leading-normal inline-block font-gentium-book truncate">Introduction to Building Solutions with PaLM2 API via VertexAI on GCP</h1></div><div class="flex items-center gap-4"><div class="hidden lg:flex items-center font-gentium text-lg"><div><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/posts">Posts<!-- --> </a></div><div><span class="my-1 text-foreground"> · </span><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/talks">Talks<!-- --> </a></div><div><span class="my-1 text-foreground"> · </span><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/publications">Publications<!-- --> </a></div><div><span class="my-1 text-foreground"> · </span><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/codelabs">Codelabs<!-- --> </a></div></div><button id="mobile-menu-button" type="button" class="flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 lg:hidden text-3xl rounded-full border-2 border-foreground dark:invert dark:border-background" style="background-image:url(/ellipses.png);background-size:50%;background-position:50%;background-repeat:no-repeat" aria-label="Toggle navigation menu" aria-expanded="false"></button></div></nav><main class="flex-grow w-full px-1"><div class="w-full py-2"><div class="flex flex-col md:flex-row w-full text-foreground bg-background"><aside class="mb-4 md:mb-0 md:w-64 lg:w-72"><div class="md:hidden"><button class="flex justify-between items-center px-4 py-2 font-medium text-left w-full bg-secondary text-secondary-foreground rounded-md"><span>Overview</span><span class="transform transition-transform ">▼</span></button></div><div class="hidden md:block sticky top-4 bg-card border border-border p-4 rounded-lg overflow-y-auto max-h-[calc(100vh-2rem)]"><ul class="list-none p-0"><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors bg-primary text-primary-foreground hover:bg-primary/90">1<!-- -->. <!-- -->Overview</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">2<!-- -->. <!-- -->Requirements</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">3<!-- -->. <!-- -->Setting Up Your Google Cloud Environment</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">4<!-- -->. <!-- -->Setting Up Your Local Environment</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">5<!-- -->. <!-- -->Write the driving code</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">6<!-- -->. <!-- -->UI for the application</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">7<!-- -->. <!-- -->Running the App</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">8<!-- -->. <!-- -->Interacting with Your Chatbot</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">9<!-- -->. <!-- -->Conclusion</button></li><li class="rounded-md mb-1"><button class="block text-sm text-left w-full px-3 py-2 font-medium rounded-md transition-colors hover:bg-secondary text-foreground">10<!-- -->. <!-- -->What&#x27;s Next?</button></li></ul></div></aside><div class="flex flex-col min-h-screen mx-auto w-full"><div class="mx-auto w-full px-0 md:px-4"><main class="flex-1 w-full"><div class="w-full"><div><div class="bg-card text-card-foreground shadow-lg rounded-lg p-6 mb-4 w-full min-h-[500px]"><div class="flex flex-row items-center justify-between mb-4"><h2 class="text-2xl font-bold m-0">Overview</h2><div class="text-sm text-muted-foreground">1<!-- --> mins</div></div><div class="prose prose-sm sm:prose lg:prose-lg max-w-none"><p>Hey there!</p><p>In this Codelab, we&#x27;ll walk through creating a simple chatbot based game using Google Cloud&#x27;s Vertex AI and Flask, a popular web framework in Python. Our application will ask you to make a guess about what the bot is thinking and the bot will respond with hints about what it is thinking and how far away your guess is from the correct item.</p></div></div><div class="flex justify-between mt-4 mb-8"><div></div><button class="bg-primary text-primary-foreground px-4 py-2 rounded shadow hover:bg-primary/90 transition-colors">Next</button></div></div></div></main></div></div></div></div></main><div class="w-full mx-auto py-6 max-w-6xl px-4 border-t border-border"><div class="flex flex-col sm:flex-row justify-between gap-2"><div class="text-center sm:text-left text-foreground">© Anubhav Singh <!-- -->2025</div><div class="text-center sm:text-right"><a class="text-foreground hover:text-blue-600 dark:hover:text-primary" href="/sitemap.xml">Sitemap</a><span class="mx-1 text-foreground">·</span><a class="text-foreground hover:text-blue-600 dark:hover:text-primary" href="/newsletter">Newsletter</a></div></div></div></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-51e91e9f6e824314.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[6575,[\"177\",\"static/chunks/app/layout-03b28790fff4d2e4.js\"],\"ThemeProvider\"]\n3:I[4922,[],\"\"]\n4:I[3720,[],\"\"]\n5:I[3369,[\"177\",\"static/chunks/app/layout-03b28790fff4d2e4.js\"],\"GoogleAnalytics\"]\n7:I[2466,[],\"MetadataBoundary\"]\n9:I[2466,[],\"OutletBoundary\"]\nc:I[6114,[],\"AsyncMetadataOutlet\"]\ne:I[2466,[],\"ViewportBoundary\"]\n10:I[4797,[],\"\"]\n:HL[\"/_next/static/media/22966f4f11fece13-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/3df4cf0b22f61940-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/a481f011d1f4a14b-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/feff4f1fc62fae3c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/5d465971106e06ba.css\",\"style\"]\n:HL[\"/_next/static/css/2dba37557e579c7e.css\",\"style\"]\n:HL[\"/_next/static/css/f3b8208e8dab82f4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"-LGpcuAQ1WFieoUc20UVW\",\"p\":\"\",\"c\":[\"\",\"codelabs\",\"vertexai-palm-api-introduction-python-lab\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"codelabs\",{\"children\":[[\"slug\",\"vertexai-palm-api-introduction-python-lab\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5d465971106e06ba.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2dba37557e579c7e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__variable_6ab973\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"href\":\"/apple-icon.png\",\"sizes\":\"96x96\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/svg+xml\",\"href\":\"/icon0.svg\"}],[\"$\",\"link\",null,{\"rel\":\"shortcut icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"meta\",null,{\"name\":\"apple-mobile-web-app-title\",\"content\":\"xprilion's blog\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#7b46f6\"}],[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",null,{\"itemProp\":\"name\",\"content\":\"xprilion's blog\"}],[\"$\",\"meta\",null,{\"itemProp\":\"description\",\"content\":\"Hey, I'm Anubhav Singh. I love building software, mixing stacks and making memes.\"}],[\"$\",\"meta\",null,{\"itemProp\":\"image\",\"content\":\"/favicon.png\"}],[\"$\",\"meta\",null,{\"property\":\"og:title\",\"content\":\"xprilion's blog\"}],[\"$\",\"meta\",null,{\"property\":\"og:description\",\"content\":\"Hey, I'm Anubhav Singh. I love building software, mixing stacks and making memes.\"}],[\"$\",\"meta\",null,{\"property\":\"og:image\",\"content\":\"/favicon.png\"}],[\"$\",\"meta\",null,{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:site\",\"content\":\"@xprilion\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:creator\",\"content\":\"@xprilion\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:title\",\"content\":\"xprilion's blog\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:description\",\"content\":\"Hey, I'm Anubhav Singh. I love building software, mixing stacks and making memes.\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:image\",\"content\":\"/favicon.png\"}]]}],[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"$L5\",null,{\"gaId\":\"G-NKJL65V2YL\"}]]}]]}],{\"children\":[\"codelabs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"vertexai-palm-api-introduction-python-lab\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f3b8208e8dab82f4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"children\":[\"$La\",\"$Lb\",[\"$\",\"$Lc\",null,{\"promise\":\"$@d\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"3FlYHUHnWlefHcbcnU30P\",{\"children\":[[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:\"$Sreact.suspense\"\n12:I[6114,[],\"AsyncMetadata\"]\n8:[\"$\",\"$11\",null,{\"fallback\":null,\"children\":[\"$\",\"$L12\",null,{\"promise\":\"$@13\"}]}]\n"])</script><script>self.__next_f.push([1,"b:null\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:null\n"])</script><script>self.__next_f.push([1,"14:I[5378,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"585\",\"static/chunks/585-ef9a120e1d77e4af.js\",\"182\",\"static/chunks/app/codelabs/%5Bslug%5D/page-696caa01994dec0e.js\"],\"default\"]\n15:I[4518,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"585\",\"static/chunks/585-ef9a120e1d77e4af.js\",\"182\",\"static/chunks/app/codelabs/%5Bslug%5D/page-696caa01994dec0e.js\"],\"default\"]\n17:I[1999,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"585\",\"static/chunks/585-ef9a120e1d77e4af.js\",\"182\",\"static/chunks/app/codelabs/%5Bslug%5D/page-696caa01994dec0e.js\"],\"\"]\n18:I[4046,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"585\",\"static/chunks/585-ef9a120e1d77e4af.js\",\"182\",\"static/chunks/app/codelabs/%5Bslug%5D/page-696caa01994dec0e.js\"],\"\"]\n16:T1f5c,"])</script><script>self.__next_f.push([1,"\u003ch2 id=\"overview\"\u003eOverview\u003c/h2\u003e\u003cp\u003eDuration: 1\u003c/p\u003e\u003cp\u003eHey there!\u003c/p\u003e\u003cp\u003eIn this Codelab, we'll walk through creating a simple chatbot based game using Google Cloud's Vertex AI and Flask, a popular web framework in Python. Our application will ask you to make a guess about what the bot is thinking and the bot will respond with hints about what it is thinking and how far away your guess is from the correct item.\u003c/p\u003e\u003ch2 id=\"requirements\"\u003eRequirements\u003c/h2\u003e\u003cp\u003eDuration: 2\u003c/p\u003e\u003cp\u003eIn order to follow this codelab, you'll need the following:\u003c/p\u003e\u003col\u003e\u003cli\u003eA Google Cloud Platform account with active billing.\u003c/li\u003e\u003cli\u003eA development environment with Python 3.7 or above installed.\u003c/li\u003e\u003cli\u003eAccess to terminal/shell for executing commands.\u003c/li\u003e\u003c/ol\u003e\u003ch2 id=\"setting-up-your-google-cloud-environment\"\u003eSetting Up Your Google Cloud Environment\u003c/h2\u003e\u003cp\u003eDuration: 10\u003c/p\u003e\u003col\u003e\u003cli\u003eLog in to your \u003ca href=\"https://console.cloud.google.com/\"\u003eGoogle Cloud Platform\u003c/a\u003e account.\u003c/li\u003e\u003cli\u003eCreate a new project, let's name it \u003ccode\u003eproject-x\u003c/code\u003e.\u003c/li\u003e\u003cli\u003eEnable \u003ca href=\"https://cloud.google.com/billing/docs/how-to/modify-project\"\u003ebilling for the project\u003c/a\u003e.\u003c/li\u003e\u003cli\u003eNavigate to the \u003ca href=\"https://console.cloud.google.com/apis/dashboard\"\u003eAPIs \u0026amp; Services dashboard\u003c/a\u003e and enable the Vertex AI API.\u003c/li\u003e\u003cli\u003e\u003ca href=\"https://cloud.google.com/iam/docs/keys-create-delete\"\u003eCreate a service account and download the JSON key file\u003c/a\u003e (\u003ccode\u003ekey.json\u003c/code\u003e). Store this file safely.\u003c/li\u003e\u003c/ol\u003e\u003ch2 id=\"setting-up-your-local-environment\"\u003eSetting Up Your Local Environment\u003c/h2\u003e\u003cp\u003eDuration: 5\u003c/p\u003e\u003cp\u003eInstall other required libraries:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003epip install marko google-cloud-aiplatform\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eInstall Flask:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003epip install Flask\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"write-the-driving-code\"\u003eWrite the driving code\u003c/h2\u003e\u003cp\u003eDuration: 10\u003c/p\u003e\u003col\u003e\u003cli\u003e\u003cstrong\u003eImporting Libraries\u003c/strong\u003e: We start by importing necessary Python libraries. Flask for our web framework, Vertex AI for AI model interaction, and others for various functionalities.\u003c/li\u003e\u003c/ol\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003eimport os\nfrom flask import Flask, request, Response, g, render_template, jsonify\nimport marko\nimport vertexai\nfrom vertexai.language_models import TextGenerationModel\n\u003c/code\u003e\u003c/pre\u003e\u003col\u003e\u003cli\u003e\u003cstrong\u003eInitializing the App and Vertex AI\u003c/strong\u003e: We initialize our Flask app and configure Vertex AI with our GCP project details.\u003c/li\u003e\u003c/ol\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\napp = Flask(__name__)\napp.debug = True\n\nvertexai.init(project=\"project-x\", location=\"us-central1\")\nparameters = {\n    \"temperature\": 1,\n    \"max_output_tokens\": 256,\n    \"top_p\": 0.8,\n    \"top_k\": 40\n}\n\nmodel = TextGenerationModel.from_pretrained(\"text-bison@001\")\n\u003c/code\u003e\u003c/pre\u003e\u003col\u003e\u003cli\u003e\u003cstrong\u003eDefining Routes\u003c/strong\u003e: We define two routes - one for the home page and another for handling chat messages.\u003c/li\u003e\u003c/ol\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e@app.route('/', methods=['GET'])\ndef hello_world():\n    return render_template(\"chat.html\")\n\n@app.route('/chat/\u0026lt;guess\u0026gt;/\u0026lt;actual\u0026gt;', methods=['GET'])\ndef chat(guess, actual):\n    response = model.predict(\n        \"You are the bot in a guessing game where the player tries to guess a secret item you are thinking about. \" +\n        \"The rules of the game are: 1. the player will make a guess. 2. if the guess is correct or very close to the correct answer, you will say, 'Congratulations, you've got it right!' \" +\n         \"3. If they are not very close to the actual item, respond with a humorous remark about their guess. Then without mentioning the actual item, \" + actual + \", provide a subtle hint to guide the player closer to the secret item.\" +\n        \"The player has just guessed \" + guess + \".\",\n        **parameters\n    )\n\n    return jsonify({\n        \"response\": marko.convert(response.text)\n    })\n\n\n\nif __name__ == '__main__':\n    app.run(debug=True, host=\"0.0.0.0\", port=int(os.environ.get(\"PORT\", 8080)))\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWith the backend done, we're free to implement the UI for the API in any manner we want to.\u003c/p\u003e\u003ch2 id=\"ui-for-the-application\"\u003eUI for the application\u003c/h2\u003e\u003cp\u003eDuration: 10\u003c/p\u003e\u003cp\u003eNow, we can develop a quick UI to work with the API of the chatbot. Here's some sample HTML/JS to create one such UI.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u0026lt;div\u0026gt;\n    \u0026lt;div id=\"chat-box\" class=\"bg-light p-3 mb-3 rounded\"\u0026gt;\n        \u0026lt;blockquote style=\"border-left: 4px solid #43a047;\"\u0026gt;Bot: Can you guess what am I thinking?\u0026lt;/blockquote\u0026gt;\n    \u0026lt;/div\u0026gt;\n    \u0026lt;progress id=\"progress-bar\" style=\"display: none\"\u0026gt;\u0026lt;/progress\u0026gt;\n    \u0026lt;div class=\"input-group\"\u0026gt;\n        \u0026lt;input id=\"chat-input\" type=\"text\" class=\"form-control\" placeholder=\"Type your message...\"\u0026gt;\n        \u0026lt;div class=\"input-group-append\"\u0026gt;\n            \u0026lt;button id=\"send-button\" class=\"btn btn-primary\"\u0026gt;Guess\u0026lt;/button\u0026gt;\n            \u0026lt;button id=\"quit-button\"\u0026gt;Give Up\u0026lt;/button\u0026gt;\n        \u0026lt;/div\u0026gt;\n    \u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\n\u0026lt;script\u0026gt;\n$(function() {\n    const items = [\n    \"Eiffel Tower\",\n    \"Pineapple\",\n    // ... many more!\n    \"Rubik's Cube\",\n    \"Bamboo\"\n];\n\n    var actual_item = items[Math.floor(Math.random()*items.length)];\n\n    $('#chat-input').keypress(function(e) {\n        if(e.which == 13) { // 13 is the Enter key\n            $('#send-button').click();\n        }\n    });\n\n    $('#quit-button').click(function() {\n        $('#chat-box').append('\u0026lt;blockquote style=\"border-left: 4px solid red;\"\u0026gt;Bot: The answer was ' + actual_item + '\u0026lt;/blockquote\u0026gt;');\n        $('#chat-input').val('');\n        $('#chat-input').prop('disabled', true);\n        $('#send-button').prop('disabled', true);\n        $('#quit-button').prop('disabled', true);\n    });\n\n    $('#send-button').click(function() {\n        var input = $('#chat-input').val().trim();\n        if (input !== '') {\n            $('#chat-box').append('\u0026lt;blockquote style=\"border-left: 4px solid dodgerblue;\"\u0026gt;User: ' + input + '\u0026lt;/blockquote\u0026gt;');\n            $('#chat-input').val('');\n            $('#progress-bar').show();\n            // Use AJAX to send the input to the server and get a response\n            $.ajax({\n                url: '/chat/' + encodeURIComponent(input) + '/' + encodeURIComponent(actual_item),\n                type: 'GET',\n                success: function(data) {\n                    $('#chat-box').append('\u0026lt;blockquote style=\"border-left: 4px solid #43a047;\"\u0026gt;Bot: ' + data.response + '\u0026lt;/blockquote\u0026gt;');\n                    $('#progress-bar').hide();\n                },\n                error: function() {\n                    $('#chat-box').append('\u0026lt;blockquote style=\"border-left: 4px solid red;\"\u0026gt;Bot: Sorry, I am not able to respond at the moment.\u0026lt;/blockquote\u0026gt;');\n                    $('#progress-bar').hide();\n                }\n            });\n        }\n    });\n});\n\u0026lt;/script\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"running-the-app\"\u003eRunning the App\u003c/h2\u003e\u003cp\u003eDuration: 2\u003c/p\u003e\u003col\u003e\u003cli\u003eOpen your web browser and go to \u003ca href=\"http://localhost:8080\"\u003e\u003ccode\u003ehttp://localhost:8080\u003c/code\u003e\u003c/a\u003e. You should see your chatbot interface.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eRun your application:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003epython main.py\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"interacting-with-your-chatbot\"\u003eInteracting with Your Chatbot\u003c/h2\u003e\u003cp\u003eDuration: 2\u003c/p\u003e\u003col\u003e\u003cli\u003eThe bot will greet you asking you to guess what the bot is thinking about.\u003c/li\u003e\u003cli\u003eEnter a guess in the chat interface.\u003c/li\u003e\u003cli\u003eThe chatbot will respond with if your guess was close to what the actual secret item it was thinking about!\u003c/li\u003e\u003c/ol\u003e\u003ch2 id=\"conclusion\"\u003eConclusion\u003c/h2\u003e\u003cp\u003eDuration: 1\u003c/p\u003e\u003cp\u003eCongratulations! You've just built and deployed a simple chatbot using Flask and Google Cloud's Vertex AI. This bot plays a guessing game with the users!\u003c/p\u003e\u003ch2 id=\"whats-next\"\u003eWhat's Next?\u003c/h2\u003e\u003cp\u003eDuration: 1\u003c/p\u003e\u003cul\u003e\u003cli\u003eExperiment with different model parameters to see how they affect the output.\u003c/li\u003e\u003cli\u003eTry integrating this chatbot into a larger web application.\u003c/li\u003e\u003cli\u003eExplore other capabilities of Vertex AI.\u003c/li\u003e\u003c/ul\u003e"])</script><script>self.__next_f.push([1,"6:[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-screen px-2 md:px-4 bg-background text-foreground\",\"children\":[[\"$\",\"$L14\",null,{\"title\":\"Introduction to Building Solutions with PaLM2 API via VertexAI on GCP\",\"closeBtn\":true}],[\"$\",\"main\",null,{\"className\":\"flex-grow w-full px-1\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-full py-2\",\"children\":[\"$\",\"$L15\",null,{\"htmlContent\":\"$16\",\"upperContent\":\"$undefined\",\"bottomContent\":\"$undefined\"}]}]}],[\"$\",\"div\",null,{\"className\":\"w-full mx-auto py-6 max-w-6xl px-4 border-t border-border\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col sm:flex-row justify-between gap-2\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-center sm:text-left text-foreground\",\"children\":[\"© Anubhav Singh \",2025]}],[\"$\",\"div\",null,{\"className\":\"text-center sm:text-right\",\"children\":[[\"$\",\"$L17\",null,{\"href\":\"/sitemap.xml\",\"className\":\"text-foreground hover:text-blue-600 dark:hover:text-primary\",\"children\":\"Sitemap\"}],[\"$\",\"span\",null,{\"className\":\"mx-1 text-foreground\",\"children\":\"·\"}],[\"$\",\"$L17\",null,{\"href\":\"/newsletter\",\"className\":\"text-foreground hover:text-blue-600 dark:hover:text-primary\",\"children\":\"Newsletter\"}]]}]]}]}],[\"$\",\"$L18\",null,{\"id\":\"MathJax-script\",\"src\":\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js\",\"async\":true}],[\"$\",\"$L18\",null,{\"id\":\"MathJax-config\",\"dangerouslySetInnerHTML\":{\"__html\":\"\\n            MathJax = {\\n              tex: {\\n                inlineMath: [['((', '))']],\\n                displayMath: [['[[', ']]']],\\n              },\\n              svg: {\\n                fontCache: 'global'\\n              }\\n            };\\n          \"}}]]}]\n"])</script><script>self.__next_f.push([1,"13:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Introduction to Building Solutions with PaLM2 API via VertexAI on GCP | xprilion's blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"A starter guide to building innovative solutions with PaLM2 API via Vertex AI on GCP.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/logo.jpg\"}]],\"error\":null,\"digest\":\"$undefined\"}\nd:{\"metadata\":\"$13:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>