<!DOCTYPE html><html lang="en" class="__variable_6ab973"><head><meta charSet="utf-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/22966f4f11fece13-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/3df4cf0b22f61940-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/a481f011d1f4a14b-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/feff4f1fc62fae3c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/5d465971106e06ba.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/2dba37557e579c7e.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f3b8208e8dab82f4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-51e91e9f6e824314.js"/><script src="/_next/static/chunks/a82cbd8b-b3a1b1aa1798277d.js" async=""></script><script src="/_next/static/chunks/261-9869fd9e23c1aca9.js" async=""></script><script src="/_next/static/chunks/main-app-23cc923f66c03781.js" async=""></script><script src="/_next/static/chunks/app/layout-03b28790fff4d2e4.js" async=""></script><script src="/_next/static/chunks/943-eb5c9570e2ea5452.js" async=""></script><script src="/_next/static/chunks/981-982ff48b33ef9837.js" async=""></script><script src="/_next/static/chunks/224-ed8f8dcad199b1cb.js" async=""></script><script src="/_next/static/chunks/app/(blog)/%5Bslug%5D/page-f945c0378016101e.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-NKJL65V2YL" as="script"/><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js" as="script"/><meta name="next-size-adjust" content=""/><link rel="icon" type="image/png" href="/apple-icon.png" sizes="96x96"/><link rel="icon" type="image/svg+xml" href="/icon0.svg"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta name="apple-mobile-web-app-title" content="xprilion&#x27;s blog"/><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#7b46f6"/><meta property="og:title" content="xprilion&#x27;s blog"/><meta property="og:description" content="Hey, I&#x27;m Anubhav Singh. I love building software, mixing stacks and making memes."/><meta property="og:image" content="/favicon.png"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@xprilion"/><meta name="twitter:creator" content="@xprilion"/><meta name="twitter:title" content="xprilion&#x27;s blog"/><meta name="twitter:description" content="Hey, I&#x27;m Anubhav Singh. I love building software, mixing stacks and making memes."/><meta name="twitter:image" content="/favicon.png"/><meta itemProp="name" content="xprilion&#x27;s blog"/><meta itemProp="description" content="Hey, I&#x27;m Anubhav Singh. I love building software, mixing stacks and making memes."/><meta itemProp="image" content="/favicon.png"/><title>High Availability ML Deployments</title><meta name="description" content="The average cost of IT downtime is $5,600 per minute.

~ Gartner

Downtimes can be costly. During downtimes, a company may face loss of business, loss of customer trust, loss of reputation in the technical and business community, or even all of these together. Downtimes are not fun, and until it happens to us, we all tend to think it cannot happen to us.

What makes the challenge more difficult is the fact that the world is rapidly incorporating more and more Machine learning on the web, and thi"/><link rel="icon" href="/logo.jpg"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="antialiased"><script>((e,t,r,n,o,a,i,u)=>{let l=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(l.classList.remove(...n),l.classList.add(a&&a[t]?a[t]:t)):l.setAttribute(e,t)}),r=t,u&&s.includes(r)&&(l.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="max-w-6xl mx-auto px-1 md:px-4 font-gentium"><div class="flex flex-col min-h-screen px-2 md:px-4 bg-background text-foreground"><nav class="flex flex-row justify-between items-center py-4 border-b border-border relative"><a class="flex items-center justify-center" href="/"><h1 class="text-xl sm:text-2xl m-0 text-foreground font-normal leading-normal inline-block font-gentium-book truncate max-w-[200px] sm:max-w-none">xprilion&#x27;s blog</h1></a><div class="flex items-center gap-4"><div class="hidden lg:flex items-center font-gentium text-lg"><div><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/posts">Posts<!-- --> </a></div><div><span class="my-1 text-foreground"> · </span><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/talks">Talks<!-- --> </a></div><div><span class="my-1 text-foreground"> · </span><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/publications">Publications<!-- --> </a></div><div><span class="my-1 text-foreground"> · </span><a class="m-1 text-blue-600 dark:text-primary hover:text-blue-600 dark:hover:text-primary hover:underline" href="/codelabs">Codelabs<!-- --> </a></div></div><button id="mobile-menu-button" type="button" class="flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 lg:hidden text-3xl rounded-full border-2 border-foreground dark:invert dark:border-background" style="background-image:url(/ellipses.png);background-size:50%;background-position:50%;background-repeat:no-repeat" aria-label="Toggle navigation menu" aria-expanded="false"></button></div></nav><main class="flex-grow max-w-3xl mx-auto w-full py-8 px-1 md:px-4"><div class="mb-6"><a class="text-blue-600 hover:underline mb-4 block" href="/posts">← Back to all posts</a><h1 class="text-2xl md:text-3xl font-bold mb-2">High Availability ML Deployments</h1><p class="text-gray-600 dark:text-gray-200 text-sm ">8 October, 2022</p></div><div class="prose prose-blue max-w-none"></div><script>(self.__next_s=self.__next_s||[]).push([0,{"children":"\n          MathJax = {\n            tex: {\n              inlineMath: [['((', '))']],\n              displayMath: [['[[', ']]']],\n            },\n            svg: {\n              fontCache: 'global'\n            }\n          };\n        ","id":"MathJax-config"}])</script></main><div class="w-full mx-auto py-6 max-w-6xl px-4 border-t border-border"><div class="flex flex-col sm:flex-row justify-between gap-2"><div class="text-center sm:text-left text-foreground">© Anubhav Singh <!-- -->2025</div><div class="text-center sm:text-right"><a class="text-foreground hover:text-blue-600 dark:hover:text-primary" href="/sitemap.xml">Sitemap</a><span class="mx-1 text-foreground">·</span><a class="text-foreground hover:text-blue-600 dark:hover:text-primary" href="/newsletter">Newsletter</a></div></div></div></div></div><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-51e91e9f6e824314.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[6575,[\"177\",\"static/chunks/app/layout-03b28790fff4d2e4.js\"],\"ThemeProvider\"]\n3:I[4922,[],\"\"]\n4:I[3720,[],\"\"]\n5:I[3369,[\"177\",\"static/chunks/app/layout-03b28790fff4d2e4.js\"],\"GoogleAnalytics\"]\n7:I[2466,[],\"MetadataBoundary\"]\n9:I[2466,[],\"OutletBoundary\"]\nc:I[6114,[],\"AsyncMetadataOutlet\"]\ne:I[2466,[],\"ViewportBoundary\"]\n10:I[4797,[],\"\"]\n:HL[\"/_next/static/media/22966f4f11fece13-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/3df4cf0b22f61940-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/a481f011d1f4a14b-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/feff4f1fc62fae3c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/5d465971106e06ba.css\",\"style\"]\n:HL[\"/_next/static/css/2dba37557e579c7e.css\",\"style\"]\n:HL[\"/_next/static/css/f3b8208e8dab82f4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"-LGpcuAQ1WFieoUc20UVW\",\"p\":\"\",\"c\":[\"\",\"high-availability-ml-deployments\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(blog)\",{\"children\":[[\"slug\",\"high-availability-ml-deployments\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5d465971106e06ba.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/2dba37557e579c7e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__variable_6ab973\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"href\":\"/apple-icon.png\",\"sizes\":\"96x96\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/svg+xml\",\"href\":\"/icon0.svg\"}],[\"$\",\"link\",null,{\"rel\":\"shortcut icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"meta\",null,{\"name\":\"apple-mobile-web-app-title\",\"content\":\"xprilion's blog\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#7b46f6\"}],[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",null,{\"itemProp\":\"name\",\"content\":\"xprilion's blog\"}],[\"$\",\"meta\",null,{\"itemProp\":\"description\",\"content\":\"Hey, I'm Anubhav Singh. I love building software, mixing stacks and making memes.\"}],[\"$\",\"meta\",null,{\"itemProp\":\"image\",\"content\":\"/favicon.png\"}],[\"$\",\"meta\",null,{\"property\":\"og:title\",\"content\":\"xprilion's blog\"}],[\"$\",\"meta\",null,{\"property\":\"og:description\",\"content\":\"Hey, I'm Anubhav Singh. I love building software, mixing stacks and making memes.\"}],[\"$\",\"meta\",null,{\"property\":\"og:image\",\"content\":\"/favicon.png\"}],[\"$\",\"meta\",null,{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:site\",\"content\":\"@xprilion\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:creator\",\"content\":\"@xprilion\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:title\",\"content\":\"xprilion's blog\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:description\",\"content\":\"Hey, I'm Anubhav Singh. I love building software, mixing stacks and making memes.\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:image\",\"content\":\"/favicon.png\"}]]}],[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"$L5\",null,{\"gaId\":\"G-NKJL65V2YL\"}]]}]]}],{\"children\":[\"(blog)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:children:1:props:children:props:children:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:1:props:children:1:props:children:1:props:children:props:children:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:children:1:props:children:props:children:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:children:1:props:children:props:children:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"high-availability-ml-deployments\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f3b8208e8dab82f4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"children\":[\"$La\",\"$Lb\",[\"$\",\"$Lc\",null,{\"promise\":\"$@d\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"OMlqV37PK64ti-LlxEj2I\",{\"children\":[[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:\"$Sreact.suspense\"\n12:I[6114,[],\"AsyncMetadata\"]\n8:[\"$\",\"$11\",null,{\"fallback\":null,\"children\":[\"$\",\"$L12\",null,{\"promise\":\"$@13\"}]}]\n"])</script><script>self.__next_f.push([1,"b:null\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:null\n"])</script><script>self.__next_f.push([1,"14:I[1701,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"224\",\"static/chunks/224-ed8f8dcad199b1cb.js\",\"356\",\"static/chunks/app/(blog)/%5Bslug%5D/page-f945c0378016101e.js\"],\"default\"]\n15:I[1999,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"224\",\"static/chunks/224-ed8f8dcad199b1cb.js\",\"356\",\"static/chunks/app/(blog)/%5Bslug%5D/page-f945c0378016101e.js\"],\"\"]\n16:I[1106,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"224\",\"static/chunks/224-ed8f8dcad199b1cb.js\",\"356\",\"static/chunks/app/(blog)/%5Bslug%5D/page-f945c0378016101e.js\"],\"default\"]\n18:I[4046,[\"943\",\"static/chunks/943-eb5c9570e2ea5452.js\",\"981\",\"static/chunks/981-982ff48b33ef9837.js\",\"224\",\"static/chunks/224-ed8f8dcad199b1cb.js\",\"356\",\"static/chunks/app/(blog)/%5Bslug%5D/page-f945c0378016101e.js\"],\"\"]\n17:T3a6f,"])</script><script>self.__next_f.push([1,"\u003cblockquote\u003eThe average cost of IT downtime is $5,600 per minute.\u003cbr\u003e\u003cbr\u003e~ Gartner\u003c/blockquote\u003e\u003cp\u003eDowntimes can be costly. During downtimes, a company may face loss of business, loss of customer trust, loss of reputation in the technical and business community, or even all of these together. Downtimes are not fun, and until it happens to us, we all tend to think it cannot happen to us.\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-23.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"689\" height=\"716\"\u003e\u003c/figure\u003e\u003cp\u003eWhat makes the challenge more difficult is the fact that the world is rapidly incorporating more and more Machine learning on the web, and this has led to complexities that did not exist with non-ML software solutions.\u003c/p\u003e\u003cp\u003eIn this blog, we'll be exploring how to design a machine learning based solution that is highly reliable and does not suffer much when downtimes occur.\u003c/p\u003e\u003cp\u003eIn this 2 part article, we’ll try to find answers to the following questions:\u003c/p\u003e\u003cul\u003e\u003cli\u003eHow quickly can your system bounce back from disasters?\u003c/li\u003e\u003cli\u003eAre your ML deployments resilient?\u003c/li\u003e\u003cli\u003eWhen can you call your system architecture “high availability”?\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"part-1undestanding-hadr-systems\"\u003ePart 1 - Undestanding HADR systems\u003c/h2\u003e\u003cp\u003eLet us begin by understanding a few basics of High Availability Disaster Recovery (HADR) systems. We'll cover a few key terms and then some common system topologies.\u003c/p\u003e\u003ch3 id=\"key-terms-related-to-hadr-systems\"\u003eKey terms related to HADR systems\u003c/h3\u003e\u003cp\u003eKey terms that you should know about HADR systems -\u003c/p\u003e\u003ch4 id=\"high-availability\"\u003eHigh Availability\u003c/h4\u003e\u003cp\u003eHigh availability (HA) describes the ability of an application to withstand all planned and unplanned outages (a planned outage could be performing a system upgrade) and to provide continuous processing for business-critical applications.\u003c/p\u003e\u003ch4 id=\"disaster-recovery\"\u003eDisaster Recovery\u003c/h4\u003e\u003cp\u003eDisaster recovery (DR) involves a set of policies, tools, and procedures for returning a system, an application, or an entire data center to full operation after a catastrophic interruption. It includes procedures for copying and storing an installed system's essential data in a secure location, and for recovering that data to restore normalcy of operation.\u003c/p\u003e\u003ch4 id=\"unplanned-downtime\"\u003eUnplanned downtime\u003c/h4\u003e\u003cp\u003eDowntime caused by factors which were not introduced on purpose is called unplanned downtime. This can be majorly due to:\u003c/p\u003e\u003cul\u003e\u003cli\u003eHuman Error\u003c/li\u003e\u003cli\u003eSoftware Problems\u003c/li\u003e\u003cli\u003eHardware Failure\u003c/li\u003e\u003cli\u003eEnvironmental Issues\u003c/li\u003e\u003c/ul\u003e\n\u003c!--kg-card-begin: html--\u003e\n\u003cimg loading=\"lazy\" src=\"https://media.tenor.com/VYujs2dkFTUAAAAC/gopi-bahu.gif\" /\u003e\n\u003c!--kg-card-end: html--\u003e\n\u003ch4 id=\"planned-downtime\"\u003ePlanned downtime\u003c/h4\u003e\u003cp\u003eThe opposite of unplanned downtime.\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-24.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"344\" height=\"221\"\u003e\u003c/figure\u003e\u003cp\u003eDowntimes introduced on purpose, mostly are:\u003c/p\u003e\u003cul\u003e\u003cli\u003eSystem upgrades\u003c/li\u003e\u003cli\u003eSystem repairs\u003c/li\u003e\u003cli\u003eRestricted access due to business reasons\u003c/li\u003e\u003c/ul\u003e\u003ch4 id=\"chaos-engineering\"\u003eChaos Engineering\u003c/h4\u003e\u003cp\u003eChaos engineering is a method of testing distributed software that deliberately introduces failure and faulty scenarios to verify its resilience in the face of random disruptions. These disruptions can cause applications to respond in unpredictable ways and can break under pressure.\u003c/p\u003e\u003ch4 id=\"resilience\"\u003eResilience\u003c/h4\u003e\u003cp\u003eThe ability of a solution to absorb the impact of a problem in one or more parts of a system, while continuing to provide an acceptable service level to the business customers.\u003c/p\u003e\u003ch3 id=\"key-metrics-for-analyzing-your-system-design\"\u003eKey metrics for analyzing your system design\u003c/h3\u003e\u003cp\u003eThe key metrics used to analyze system designs are -\u003c/p\u003e\u003cul\u003e\u003cli\u003eProduction capacity in and out of region\u003c/li\u003e\u003cli\u003ePlatform availability\u003c/li\u003e\u003cli\u003eAvailability during planned outages\u003c/li\u003e\u003cli\u003eFailure Impact\u003c/li\u003e\u003cli\u003eDisaster recovery time\u003c/li\u003e\u003cli\u003eIncident response time\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eNext, let's look at some HADR system topologies, before we compare their metrics.\u003c/p\u003e\u003ch3 id=\"a-30000ft-view-of-high-availability-system-design\"\u003eA 30,000ft view of high availability system design\u003c/h3\u003e\u003cp\u003eHADR systems can be designed with several topologies ranging from simple ones - where you put all your eggs in a single basket - or complex ones - where you devise a fail-safe array of servers. Let us study a couple of them to understand how such topologies look like -\u003c/p\u003e\u003cp\u003eConsider the following 2-Active topology -\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-25.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"947\" height=\"540\"\u003e\u003c/figure\u003e\u003cp\u003eThis topology shows that we provision 3 servers such that during normal operations, 2 servers load balance the traffic coming to the application while a third server stays on standby. This server gets activated in the event of failure of any or all of the active servers.\u003c/p\u003e\u003cp\u003eAn alternative to a 2-Active system topology is a 3-Active topology -\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-26.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"946\" height=\"552\"\u003e\u003c/figure\u003e\u003cp\u003eIn this system topology, we provision all three servers as active servers and in event of failure of any server, the other servers load balance the traffic, while the failed servers are brought back up.\u003c/p\u003e\u003cp\u003eAn obvious question here - which of these is better?\u003c/p\u003e\u003cp\u003eConsider the following chart of metrics comparison for the above two systems against a single Active system -\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-27.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"680\" height=\"519\"\u003e\u003c/figure\u003e\u003cp\u003eFrom the above, it can be said that while 3-active systems gives highest availability and lowest failure impacts, if your application is likely to expect surges, a 2-active system might give you better resilience.\u003c/p\u003e\u003cp\u003eWe shall wrap our discussion about HADR system topologies here. Next, we'll talk about challenges posed by ML in HADR systems and see a demo of these topologies in action!\u003c/p\u003e\u003ch2 id=\"part-2hadr-system-challenges-by-ml-deployments-and-load-testing-ml-hadr-system\"\u003ePart 2 - HADR system challenges by ML deployments and load testing ML-HADR system\u003c/h2\u003e\u003cp\u003eMachine Learning heavy deployments bring their own set of challenges to any HADR system. ML models can be deployed in several ways, due to which it becomes important for architects designing HADR systems to choose the right deployment strategies for best results.\u003c/p\u003e\u003ch3 id=\"challenges-posed-to-ml-pipelines-for-high-availability\"\u003eChallenges posed to ML pipelines for high availability\u003c/h3\u003e\u003cp\u003eSome of the challenges faced with ML deployments for HADR are -\u003c/p\u003e\u003ch4 id=\"what-is-a-good-ml-deployment\"\u003eWhat is a good ML deployment?\u003c/h4\u003e\u003cp\u003eThe definition of a good ML deployment changes with who is answering this question. Fir examples -\u003c/p\u003e\u003cp\u003eBusiness owners - performs fast inference Researchers - highest accuracy Developers - gets built quickly Q/A engineers - never fails Investors - sounds cool, brings in the $$\u003c/p\u003e\u003ch4 id=\"volume-of-data-processed\"\u003eVolume of data processed\u003c/h4\u003e\u003cp\u003eVolume of data can be a major challenge to most ML systems. Too much data and you may be running late at your training and too less of it, your inference suffers.\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-28.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"952\" height=\"343\"\u003e\u003c/figure\u003e\u003ch4 id=\"quality-of-data\"\u003eQuality of data\u003c/h4\u003e\u003cp\u003eData quality refers to how informative and complete a given chunk of data is. The lower the data quality, the tougher it is to derive insights from it.\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-29.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"747\" height=\"473\"\u003e\u003c/figure\u003e\u003ch4 id=\"model-decay\"\u003eModel decay\u003c/h4\u003e\u003cp\u003eThe phenomenon in Machine Learning that leads to predictions made by a model become less accurate over time. Primary reasons for model decay are:\u003c/p\u003e\u003cul\u003e\u003cli\u003eData drift\u003c/li\u003e\u003cli\u003eConcept drift\u003c/li\u003e\u003c/ul\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-30.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"858\" height=\"527\"\u003e\u003c/figure\u003e\u003ch4 id=\"speed-of-inference-against-various-inputs\"\u003eSpeed of inference against various inputs\u003c/h4\u003e\u003cp\u003eSpeed of inference can change with changing input. If your model performs inference under 1s for most images ranging appx 10MB, what does it do when someone uploads an image of 1GB? Does your system reject the image or does it take down the building?\u003c/p\u003e\u003ch3 id=\"load-testing-ml-hadr-systems\"\u003eLoad testing ML-HADR systems\u003c/h3\u003e\u003cp\u003eFinally, let us load-test a few topologies which server ML based content. To do so, we shall be using the Locus tool along with a self-engineered set of scripts that work as nodes and load balancer.\u003c/p\u003e\u003cp\u003eI have published the code for this setup here - \u003ca href=\"https://github.com/xprilion/dummy-topology-loadtest\"\u003ehttps://github.com/xprilion/dummy-topology-loadtest\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThe contents of this system are -\u003c/p\u003e\u003col\u003e\u003cli\u003e\u003ca href=\"http://router.py\"\u003e\u003ccode\u003erouter.py\u003c/code\u003e\u003c/a\u003e : this file will act as a dummy load-balancer.\u003c/li\u003e\u003cli\u003e\u003ccode\u003epredictors/predict**X**.py\u003c/code\u003e - these files are numbered, replacing X, and will be active as node servers.\u003c/li\u003e\u003cli\u003e\u003ccode\u003etopology/**topology_name**.json\u003c/code\u003e - these json files contain information regarding the topologies available. We will be updating the data inside these files while load testing the topology they represent.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eTo setup the load test run, first ensure that in the files inside the \u003ccode\u003etopology\u003c/code\u003e directory, all the topology files are in their initial states, as shown below -\u003c/p\u003e\u003ch4 id=\"single-server-system\"\u003eSingle server system\u003c/h4\u003e\u003cp\u003eIn this system, there is a single server handling all resources.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-plaintext\"\u003e{\n    \"predict1\": {\n        \"status\": true,\n        \"load\": 0,\n        \"port\": \"9696\"\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"2-active-system\"\u003e2 Active system\u003c/h4\u003e\u003cp\u003eIn this system, initially, there are 2 servers responding to requests. In event of failure of any one or both servers, a third system steps in as replacement while the other two are fixed.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-plaintext\"\u003e{\n    \"predict1\": {\n        \"status\": true,\n        \"load\": 0,\n        \"port\": \"9696\"\n    },\n    \"predict2\": {\n        \"status\": true,\n        \"load\": 0,\n        \"port\": \"9697\"\n    },\n    \"predict3\": {\n        \"status\": false,\n        \"load\": 0,\n        \"port\": \"9698\"\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNotice that the \u003ccode\u003estatus\u003c/code\u003e of \u003ccode\u003epredict3\u003c/code\u003e server is set to \u003ccode\u003efalse\u003c/code\u003e.\u003c/p\u003e\u003ch4 id=\"3-active-system\"\u003e3 Active system\u003c/h4\u003e\u003cp\u003eIn a 3-active system, there are 3 servers available to handle requests.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"language-plaintext\"\u003e{\n    \"predict1\": {\n        \"status\": true,\n        \"load\": 0,\n        \"port\": \"9696\"\n    },\n    \"predict2\": {\n        \"status\": true,\n        \"load\": 0,\n        \"port\": \"9697\"\n    },\n    \"predict3\": {\n        \"status\": true,\n        \"load\": 0,\n        \"port\": \"9698\"\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen, ensure that in \u003ca href=\"http://router.py\"\u003e\u003ccode\u003erouter.py\u003c/code\u003e\u003c/a\u003e, the \u003ccode\u003etopology\u003c/code\u003e variable is set to \u003ccode\u003e0\u003c/code\u003e. This will correspond to the single server system.\u003c/p\u003e\u003cp\u003eNext, we fire up the Locus UI by running the \u003ccode\u003elocust\u003c/code\u003e command inside the \u003ccode\u003elocust\u003c/code\u003e directory.\u003c/p\u003e\u003cp\u003eSpecify the number of users to spawn and the spawn rate. Provide a suitable host. Locust will inform the server under stress that the requests are coming from the specified host.\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-31.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"1440\" height=\"813\"\u003e\u003c/figure\u003e\u003cp\u003eClick on \u003cstrong\u003eStart Swarming\u003c/strong\u003e to start throwing requests at the server based on the script specified in the \u003ccode\u003elocust/\u003c/code\u003e\u003ca href=\"http://locustfile.py\"\u003e\u003ccode\u003elocustfile.py\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eObserve the charts that show how the system is responding to the increase in the load. After some time, the first server failures start appearing. We'll keep a note of when the first error appears.\u003c/p\u003e\u003cfigure class=\"kg-card kg-image-card\"\u003e\u003cimg loading=\"lazy\" src=\"https://digitalpress.fra1.cdn.digitaloceanspaces.com/4ml9m8u/2025/04/image-32.png\" class=\"kg-image\" alt=\"\" loading=\"lazy\" width=\"1440\" height=\"813\"\u003e\u003c/figure\u003e\u003cp\u003eNow, change the \u003ccode\u003etopology\u003c/code\u003e variable in \u003ca href=\"http://router.py\"\u003e\u003ccode\u003erouter.py\u003c/code\u003e\u003c/a\u003e to \u003ccode\u003e1\u003c/code\u003e and run Locust. In the next step, change the \u003ccode\u003etopology\u003c/code\u003e variable to \u003ccode\u003e2\u003c/code\u003e and run Locust again.\u003c/p\u003e\u003cp\u003eLet's plot a chart of when the first failures happen in case of each system -\u003c/p\u003e\n\u003c!--kg-card-begin: html--\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eTopology\u003c/th\u003e\n\u003cth\u003eRPS at failure\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eSingle\u003c/td\u003e\n\u003ctd\u003e5.2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e2-Active\u003c/td\u003e\n\u003ctd\u003e8.6\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e3-Active\u003c/td\u003e\n\u003ctd\u003e7.4\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c!--kg-card-end: html--\u003e\n\u003cp\u003eAs expected, the 2-Active system has the peak capacity in our use-case. However, here's an interesting observation -\u003c/p\u003e\u003cp\u003eLet us compare the values of the predict servers on 2-Active and 3-Active systems after the load test -\u003c/p\u003e\n\u003c!--kg-card-begin: html--\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eServer\u003c/th\u003e\n\u003cth\u003e2-Active\u003c/th\u003e\n\u003cth\u003e3-Active\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ePredict1\u003c/td\u003e\n\u003ctd\u003e10\u003c/td\u003e\n\u003ctd\u003e5\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ePredict2\u003c/td\u003e\n\u003ctd\u003e10\u003c/td\u003e\n\u003ctd\u003e7\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ePredict3\u003c/td\u003e\n\u003ctd\u003e9\u003c/td\u003e\n\u003ctd\u003e8\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c!--kg-card-end: html--\u003e\n\u003cp\u003eAs we see, the 2-Active system is completely saturated while the 3-Active system is slightly above half its capacity.\u003c/p\u003e\u003cp\u003eThus, even though the 2-Active system fails after the 3-Active system has shown its first error, the 3-Active system will saturate later and continue to serve requests for a longer duration.\u003c/p\u003e\u003ch2 id=\"conclusion\"\u003eConclusion\u003c/h2\u003e\u003cp\u003eDepending on the HADR system metric you may want to optimize for, you can choose the topology that works best for your use case. You can choose to have multiple replicas of the same network topology or create your own configuration. The scripts provided for load testing can be extended to more topologies. Have fun testing your HADR system designs with it!\u003c/p\u003e"])</script><script>self.__next_f.push([1,"6:[\"$\",\"$L14\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-6\",\"children\":[[\"$\",\"$L15\",null,{\"href\":\"/posts\",\"className\":\"text-blue-600 hover:underline mb-4 block\",\"children\":\"← Back to all posts\"}],[\"$\",\"h1\",null,{\"className\":\"text-2xl md:text-3xl font-bold mb-2\",\"children\":\"High Availability ML Deployments\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 dark:text-gray-200 text-sm \",\"children\":\"8 October, 2022\"}]]}],null,[\"$\",\"$L16\",null,{\"html\":\"$17\",\"slug\":\"high-availability-ml-deployments\",\"title\":\"High Availability ML Deployments\"}],[\"$\",\"$L18\",null,{\"id\":\"MathJax-script\",\"src\":\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js\",\"async\":true,\"strategy\":\"afterInteractive\"}],[\"$\",\"$L18\",null,{\"id\":\"MathJax-config\",\"strategy\":\"beforeInteractive\",\"dangerouslySetInnerHTML\":{\"__html\":\"\\n          MathJax = {\\n            tex: {\\n              inlineMath: [['((', '))']],\\n              displayMath: [['[[', ']]']],\\n            },\\n            svg: {\\n              fontCache: 'global'\\n            }\\n          };\\n        \"}}]]}]\n"])</script><script>self.__next_f.push([1,"13:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"High Availability ML Deployments\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"The average cost of IT downtime is $5,600 per minute.\\n\\n~ Gartner\\n\\nDowntimes can be costly. During downtimes, a company may face loss of business, loss of customer trust, loss of reputation in the technical and business community, or even all of these together. Downtimes are not fun, and until it happens to us, we all tend to think it cannot happen to us.\\n\\nWhat makes the challenge more difficult is the fact that the world is rapidly incorporating more and more Machine learning on the web, and thi\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/logo.jpg\"}]],\"error\":null,\"digest\":\"$undefined\"}\nd:{\"metadata\":\"$13:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>