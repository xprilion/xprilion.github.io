{"version":3,"sources":["webpack:///./node_modules/hyvor-talk-react/dist/index.es.js","webpack:///./src/templates/blog-post.js"],"names":["addScript","src","id","script","document","createElement","body","appendChild","removeScript","getElementById","parentElement","removeChild","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","Embed","_React$Component","this","getPrototypeOf","apply","arguments","window","HYVOR_TALK_WEBSITE","websiteId","HYVOR_TALK_CONFIG","url","title","loadMode","language","sso","palette","setVariables","Component","CommentCount","scriptId","mode","BlogPostTemplate","render","post","data","markdownRemark","site","siteMetadata","siteUrl","pageContext","location","previous","next","identifier","frontmatter","nid","pathname","description","excerpt","className","style","fontWeight","scale","display","marginBottom","rhythm","marginTop","date","dangerouslySetInnerHTML","__html","html","comments","React"],"mappings":"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","file":"component---src-templates-blog-post-js-7b436ed4d33859e3a659.js","sourcesContent":["import React from 'react';\n\nfunction addScript(src, id) {\n  var script = document.createElement('script');\n  script.src = src;\n  script.id = id;\n  document.body.appendChild(script);\n}\n\nfunction removeScript(id) {\n  var script = document.getElementById(id);\n\n  if (id) {\n    script.parentElement.removeChild(script);\n  }\n}\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n/**\r\n * Embeds Hyvor Talk thread on a web page\r\n */\n\n\nvar Embed = function (_React$Component) {\n  inherits(Embed, _React$Component);\n\n  function Embed() {\n    classCallCheck(this, Embed);\n    return possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).apply(this, arguments));\n  }\n\n  createClass(Embed, [{\n    key: 'setVariables',\n    value: function setVariables() {\n      window.HYVOR_TALK_WEBSITE = this.props.websiteId;\n      window.HYVOR_TALK_CONFIG = {\n        url: this.props.url || false,\n        id: this.props.id || false,\n        title: this.props.title || document.title,\n        loadMode: this.props.loadMode || 'default',\n        language: this.props.language || null,\n        sso: this.props.sso || null,\n        palette: this.props.palette || null\n      };\n    }\n  }, {\n    key: 'addScript',\n    value: function addScript$$1() {\n      if (document.getElementById('ht-embed-script')) {\n        removeScript('ht-embed-script');\n      }\n\n      addScript('//talk.hyvor.com/web-api/embed', 'ht-embed-script');\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setVariables();\n      this.addScript();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        id: 'hyvor-talk-view'\n      });\n    }\n  }]);\n  return Embed;\n}(React.Component);\n\nvar CommentCount = function (_React$Component) {\n  inherits(CommentCount, _React$Component);\n\n  function CommentCount() {\n    classCallCheck(this, CommentCount);\n    return possibleConstructorReturn(this, (CommentCount.__proto__ || Object.getPrototypeOf(CommentCount)).apply(this, arguments));\n  }\n\n  createClass(CommentCount, [{\n    key: 'setVariables',\n    value: function setVariables() {\n      if (this.props.websiteId) {\n        window.HYVOR_TALK_WEBSITE = this.props.websiteId;\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setVariables();\n      var scriptId = 'ht-comment-count-script';\n\n      if (document.getElementById(scriptId)) {\n        removeScript(scriptId);\n      }\n\n      addScript('//talk.hyvor.com/web-api/count/', scriptId);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('span', {\n        'data-talk-id': this.props.id,\n        'data-talk-mode': this.props.mode || 'default'\n      });\n    }\n  }]);\n  return CommentCount;\n}(React.Component);\n\nvar HyvorTalk = {\n  Embed: Embed,\n  CommentCount: CommentCount\n};\nexport default HyvorTalk;","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport HyvorTalk from 'hyvor-talk-react'\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport SignupForm from \"../components/signup-form\"\nimport SEO from \"../components/seo\"\nimport { rhythm, scale } from \"../utils/typography\"\n\nimport \"./blog-post.css\"\n\nclass BlogPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark\n    const { title, siteUrl } = this.props.data.site.siteMetadata\n    const { previous, next } = this.props.pageContext\n    const { location } = this.props\n\n\n  let identifier = post.frontmatter.nid;\n  let url = siteUrl + location.pathname;\n\n    let disqusConfig = {\n      identifier: identifier,\n      title: title,\n      url: url\n    }\n\n    return (\n      <Layout location={location} title={title}>\n        <SEO\n          title={post.frontmatter.title}\n          description={post.frontmatter.description || post.excerpt}\n        />\n        <div className=\"post-container\">\n          <h1 style={{fontWeight: \"normal\"}}>{post.frontmatter.title}</h1>\n          <p\n            style={{\n              ...scale(-1 / 5),\n              display: `block`,\n              marginBottom: rhythm(1),\n              marginTop: rhythm(-1),\n            }}\n          >\n            {post.frontmatter.date}\n          </p>\n          <div dangerouslySetInnerHTML={{ __html: post.html }} className=\"post-content\" />\n\n          <SignupForm />\n\n          { \n            false && post.frontmatter.comments !== false && \n            <Bio />\n          }\n          { \n            false && post.frontmatter.comments !== false && \n            <ul\n              style={{\n                display: `flex`,\n                flexWrap: `wrap`,\n                justifyContent: `space-between`,\n                listStyle: `none`,\n                padding: 0,\n                margin: 0\n              }}\n            >\n              <li>\n                {previous && (\n                  <Link to={previous.fields.slug} rel=\"prev\">\n                    ← {previous.frontmatter.title}\n                  </Link>\n                )}\n              </li>\n              <li>\n                {next && (\n                  <Link to={next.fields.slug} rel=\"next\">\n                    {next.frontmatter.title} →\n                  </Link>\n                )}\n              </li>\n            </ul>\n          }\n          { \n            post.frontmatter.comments !== false && \n            <HyvorTalk.Embed websiteId={4206} id={identifier} />\n            // <Disqus config={disqusConfig} />\n          }\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n        siteUrl\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        comments\n        nid\n      }\n    }\n  }\n`\n"],"sourceRoot":""}